<!-- Header b√°sico -->
<header class="header">
  <div class="container">
    <div class="header-content">
      <!-- Logo -->
      <div class="logo">
        <a routerLink="/home" class="logo-link"> üë•Tryckers </a>
      </div>

      @if (authStore.isLoggedIn()) {
        <!-- Navigation -->
        <nav class="nav">
          <a routerLink="/network" class="nav-link">Cartelera</a>
        </nav>
      }

      <!-- Right side -->
      <div class="header-actions">
        <!-- Theme toggle button -->
        <button
          (click)="toggleTheme()"
          class="theme-toggle"
          [attr.aria-label]="
            isDarkMode() ? 'Cambiar a tema claro' : 'Cambiar a tema oscuro'
          "
          title="Cambiar tema"
        >
          @if (isDarkMode()) {
            <span class="theme-icon">‚òÄÔ∏è</span>
          } @else {
            <span class="theme-icon">üåô</span>
          }
        </button>

        <!-- Authentication buttons -->
        <ng-container *ngIf="!authStore.isLoggedIn()">
          <button
            type="button"
            routerLink="/auth/login"
            class="btn btn-outline"
          >
            LOGIN
          </button>
          <button
            type="button"
            routerLink="/auth/register"
            class="btn btn-primary"
          >
            SIGN UP
          </button>
        </ng-container>

        <!-- User menu -->
        <ng-container *ngIf="authStore.isLoggedIn()">
          <div class="user-menu">
            <button (click)="toggleDropdown()" class="user-button">
              <div class="avatar"></div>
              <span class="username">
                {{ authStore.user()?.name || "Usuario" }}
              </span>
              <span class="dropdown-icon">{{
                dropdownOpen() ? "‚ñ≤" : "‚ñº"
              }}</span>
            </button>

            <!-- Dropdown menu -->
            @if (dropdownOpen()) {
              <div class="dropdown-menu">
                <a
                  routerLink="/profile"
                  class="dropdown-item"
                  (click)="closeDropdown()"
                >
                  Profile
                </a>
                <a
                  routerLink="/settings"
                  class="dropdown-item"
                  (click)="closeDropdown()"
                >
                  Settings
                </a>
                <button
                  (click)="logout(); closeDropdown()"
                  class="dropdown-item dropdown-button"
                >
                  Logout
                </button>
              </div>
            }
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</header>
