<div class="profile-container">
  <!-- Header Section -->
  <div class="profile-header">
    <div class="profile-info">
      <div class="profile-avatar">
        <img
          [src]="user?.profile_picture || 'avatar-default.svg'"
          [alt]="user?.name"
        />
      </div>
      <div class="profile-basic">
        <h1 class="profile-name">{{ user?.name || 'Nombre' }}</h1>
        <p class="profile-username">@{{ user?.username || 'username' }}</p>
        <p class="profile-headline">{{ user?.headline || 'Headline' }}</p>
        <div class="profile-biography">
          <p>{{ user?.bio || 'Informaci칩n de biograf칤a aqu칤...' }}</p>
        </div>

        <!-- Social Links -->
        <div class="profile-social-links">
          <a
            *ngIf="user?.github_url"
            [href]="user.github_url"
            target="_blank"
            class="social-link github"
          >
            <span>游냋 GitHub</span>
          </a>
          <a
            *ngIf="user?.linkedin_url"
            [href]="user.linkedin_url"
            target="_blank"
            class="social-link linkedin"
          >
            <span>游눺 LinkedIn</span>
          </a>
        </div>
      </div>

      <!-- Video Pitch Section -->
      <div class="video-pitch-header">
        <div class="video-placeholder">
          <span>Video Pitch</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile Stats Section -->
  <div class="profile-stats">
    <div class="stats-grid">
      <div class="stat-item">
        <span class="stat-label">Seniority</span>
        <span class="stat-value">{{ user?.seniority || 'N/A' }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">English Level</span>
        <span class="stat-value">{{ user?.english_level || 'N/A' }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">EF SET Score</span>
        <span class="stat-value">{{ user?.efset_score || 'N/A' }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Points</span>
        <span class="stat-value">{{ user?.points || 0 }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Country</span>
        <span class="stat-value">{{ user?.country || 'N/A' }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Availability</span>
        <span
          class="stat-value availability"
          [class]="'status-' + user?.availability"
        >
          {{ user?.availability || 'N/A' }}
        </span>
      </div>
    </div>

    <!-- Interests Section -->
    <div
      class="interests-section"
      *ngIf="user?.interests && user.interests.length > 0"
    >
      <h3>Interests</h3>
      <div class="interests-tags">
        <span class="interest-tag" *ngFor="let interest of user.interests">
          {{ interest }}
        </span>
      </div>
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="profile-content">
    <!-- Left Sidebar -->
    <div class="profile-sidebar">
      <!-- Sidebar content can go here -->
    </div>

    <!-- Main Content -->
    <div class="profile-main">
      <div class="content-header">
        <div class="sort-options">
          <button class="sort-btn">Populares / M치s Recientes</button>
        </div>
      </div>

      <!-- Content Card -->
      <div class="content-card">
        <div class="card-image">
          <span>Portada</span>
        </div>
        <div class="card-content">
          <h3>{{ user?.headline || 'T칤tulo' }}</h3>
          <p class="card-author">{{ user?.name || 'Autor' }}</p>
          <p class="card-description">Primeras 280 caracteres del contenido</p>
        </div>
        <div class="card-actions">
          <button class="action-btn">Editar</button>
          <button class="action-btn">Eliminar</button>
          <button class="action-btn primary">Leer</button>
          <button class="card-like">游녨 1</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating Create Button -->
  <button class="create-btn" (click)="openCreatePostModal()">Crear</button>

  <!-- Create Post Modal -->
  <p-dialog
    header="Crear Nueva Publicaci칩n"
    [(visible)]="showCreatePostModal"
    [modal]="true"
    [closable]="true"
    [dismissableMask]="true"
    [draggable]="false"
    [resizable]="false"
    [style]="{ width: '600px', maxWidth: '90vw' }"
    [showHeader]="true"
    (onHide)="closeCreatePostModal()"
  >
    <div class="create-post-form">
      <!-- Post Type Selection -->
      <div class="form-group">
        <label for="postType" class="form-label">Tipo de Publicaci칩n</label>
        <select id="postType" [(ngModel)]="newPost.type" class="form-select">
          <option *ngFor="let type of postTypes" [value]="type.value">
            {{ type.label }}
          </option>
        </select>
      </div>

      <!-- Title -->
      <div class="form-group">
        <label for="postTitle" class="form-label">T칤tulo *</label>
        <input
          type="text"
          id="postTitle"
          pInputText
          [(ngModel)]="newPost.title"
          placeholder="Ingresa el t칤tulo de tu publicaci칩n"
          class="form-input"
        />
      </div>

      <!-- Content -->
      <div class="form-group">
        <label for="postContent" class="form-label">Contenido *</label>
        <textarea
          id="postContent"
          [(ngModel)]="newPost.content"
          placeholder="Escribe el contenido de tu publicaci칩n..."
          rows="6"
          class="form-textarea"
        ></textarea>
      </div>

      <!-- Cover Image -->
      <div class="form-group">
        <label for="coverImage" class="form-label">Imagen de Portada</label>
        <input
          type="file"
          id="coverImage"
          (change)="onFileSelect($event)"
          accept="image/*"
          class="form-file"
        />
        <small class="form-help"
          >Formatos soportados: JPG, PNG, GIF (m치x. 5MB)</small
        >
      </div>

      <!-- Preview of selected image -->
      <div class="image-preview" *ngIf="newPost.coverImage">
        <p class="preview-label">Vista previa:</p>
        <div class="preview-placeholder">{{ newPost.coverImage.name }}</div>
      </div>
    </div>

    <ng-template pTemplate="footer">
      <div class="modal-actions">
        <p-button
          label="Cancelar"
          icon="pi pi-times"
          (onClick)="closeCreatePostModal()"
          [text]="true"
        >
        </p-button>
        <p-button
          label="Crear Publicaci칩n"
          icon="pi pi-check"
          (onClick)="createPost()"
          [disabled]="!newPost.title.trim() || !newPost.content.trim()"
        >
        </p-button>
      </div>
    </ng-template>
  </p-dialog>
</div>
